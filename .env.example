# HanDoc AI 환경 변수 설정
# 이 파일을 .env로 복사하고 실제 값으로 변경하세요

# =============================================================================
# 기본 애플리케이션 설정
# =============================================================================

# 환경 설정 (development, staging, production)
ENVIRONMENT=development

# 디버그 모드 (true/false)
DEBUG=true

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 애플리케이션 시크릿 키 (프로덕션에서는 반드시 변경)
SECRET_KEY=your-super-secret-key-change-in-production

# JWT 설정
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# =============================================================================
# 데이터베이스 설정
# =============================================================================

# PostgreSQL 데이터베이스 URL
DATABASE_URL=postgresql://handoc_user:handoc_password@localhost:5432/handoc_ai

# 개발용 데이터베이스 설정
POSTGRES_DB=handoc_ai
POSTGRES_USER=handoc_user
POSTGRES_PASSWORD=handoc_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# =============================================================================
# Redis 설정
# =============================================================================

# Redis URL
REDIS_URL=redis://localhost:6379/0

# Redis 비밀번호 (프로덕션용)
REDIS_PASSWORD=

# =============================================================================
# 파일 스토리지 설정 (S3 호환)
# =============================================================================

# MinIO/S3 설정
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=handoc_minio
S3_SECRET_KEY=handoc_minio_password
S3_BUCKET_NAME=handoc-files
S3_REGION=us-east-1

# AWS S3 사용 시 (프로덕션)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your_aws_access_key
# S3_SECRET_KEY=your_aws_secret_key
# S3_BUCKET_NAME=your-s3-bucket-name
# S3_REGION=us-west-2

# =============================================================================
# AI 서비스 설정
# =============================================================================

# OpenAI API 키 (필수)
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI 설정
OPENAI_MODEL_DEFAULT=gpt-3.5-turbo
OPENAI_MODEL_PREMIUM=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# =============================================================================
# 외부 서비스 연동
# =============================================================================

# Google Drive API (선택적)
GDRIVE_SERVICE_JSON={"type": "service_account", "project_id": "your-project"}

# Google Translate API (선택적)
GOOGLE_TRANSLATE_API_KEY=your-google-translate-api-key

# Notion API (선택적)
NOTION_API_KEY=your-notion-api-key

# =============================================================================
# 파일 업로드 설정
# =============================================================================

# 최대 파일 크기 (바이트, 기본: 10MB)
MAX_FILE_SIZE=10485760

# 허용된 파일 타입
ALLOWED_FILE_TYPES=application/pdf

# 업로드 디렉토리
UPLOAD_DIR=./uploads

# =============================================================================
# CORS 설정
# =============================================================================

# CORS 허용 오리진 (쉼표로 구분)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://handoc.ai

# CORS 허용 메서드
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# CORS 허용 헤더
CORS_HEADERS=*

# =============================================================================
# Rate Limiting 설정
# =============================================================================

# 일반 사용자 시간당 요청 제한
RATE_LIMIT_REQUESTS_PER_HOUR=100

# 프리미엄 사용자 시간당 요청 제한
RATE_LIMIT_PREMIUM_REQUESTS_PER_HOUR=500

# 파일 업로드 일일 제한
RATE_LIMIT_UPLOADS_PER_DAY=50
RATE_LIMIT_PREMIUM_UPLOADS_PER_DAY=200

# =============================================================================
# 이메일 설정 (선택적)
# =============================================================================

# SMTP 서버 설정
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true

# 발신자 정보
EMAIL_FROM=noreply@handoc.ai
EMAIL_FROM_NAME=HanDoc AI

# =============================================================================
# 모니터링 및 로깅
# =============================================================================

# Sentry DSN (에러 추적)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# 로그 파일 경로
LOG_FILE_PATH=./logs/app.log

# 로그 로테이션 설정
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# 소셜 로그인 설정 (선택적)
# =============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# 결제 시스템 설정 (선택적)
# =============================================================================

# Stripe 설정
STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# =============================================================================
# 프론트엔드 설정
# =============================================================================

# React 앱 API URL
REACT_APP_API_URL=http://localhost:8000/api/v1

# WebSocket URL
REACT_APP_WS_URL=ws://localhost:8000/ws

# Google Analytics (선택적)
REACT_APP_GA_TRACKING_ID=GA_MEASUREMENT_ID

# =============================================================================
# 개발 도구 설정
# =============================================================================

# 소스맵 생성 여부
GENERATE_SOURCEMAP=false

# Hot Reload 설정
CHOKIDAR_USEPOLLING=true
FAST_REFRESH=true

# =============================================================================
# 프로덕션 전용 설정
# =============================================================================

# 도메인 설정
DOMAIN=handoc.ai
FRONTEND_URL=https://handoc.ai
BACKEND_URL=https://api.handoc.ai

# SSL 인증서 경로
SSL_CERT_PATH=/etc/ssl/certs/handoc.ai.crt
SSL_KEY_PATH=/etc/ssl/private/handoc.ai.key

# CDN 설정
CDN_URL=https://cdn.handoc.ai

# =============================================================================
# 백업 설정
# =============================================================================

# 데이터베이스 백업 설정
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 매일 오전 2시
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=handoc-backups

# =============================================================================
# 알림 설정
# =============================================================================

# Slack 웹훅 (시스템 알림용)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# Discord 웹훅 (선택적)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/discord/webhook

# =============================================================================
# 캐시 설정
# =============================================================================

# 캐시 TTL (초)
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_DATA=1800
CACHE_TTL_ANALYSIS_RESULT=86400

# =============================================================================
# 큐 설정 (Celery)
# =============================================================================

# Celery 브로커 URL
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery 결과 백엔드
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Celery 워커 설정
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# =============================================================================
# 사용법
# =============================================================================

# 1. 이 파일을 .env로 복사:
#    cp .env.example .env

# 2. 필수 값들을 실제 값으로 변경:
#    - OPENAI_API_KEY: OpenAI API 키
#    - SECRET_KEY: 강력한 시크릿 키 생성
#    - DATABASE_URL: 데이터베이스 연결 정보

# 3. 선택적 서비스들의 API 키 설정:
#    - GDRIVE_SERVICE_JSON: Google Drive 연동
#    - SENTRY_DSN: 에러 추적
#    - STRIPE_SECRET_KEY: 결제 시스템

# 4. 프로덕션 환경에서는 모든 비밀번호와 키를 변경하세요!

